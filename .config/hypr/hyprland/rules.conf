# ######## Window rules ########

# Disable blur for xwayland context menus
windowrule = match:class ^()$, match:title ^()$, no_blur on

# Disable blur for every window
windowrule = match:class .*, no_blur on

# My Rules
windowrule = match:title ^(Launcher)(.*)$, float on, center on, size (monitor_w*.99) (monitor_h*.95)
windowrule = match:title ^(Wallpaper Selector)(.*)$, float on, center on, size (monitor_w*.52) (monitor_h*.55)
windowrule = match:title ^(Hyprland Keybinds Cheatsheet)(.*)$, float on, center on, size (monitor_w*.40) (monitor_h*.80)
windowrule = match:title ^(mako)(.*)$, float on, move (monitor_w*.70) (monitor_h*.05)

windowrule = match:title ^(Open File)(.*)$, center on
windowrule = match:title ^(Open File)(.*)$, float on
windowrule = match:title ^(Select a File)(.*)$, center on
windowrule = match:title ^(Select a File)(.*)$, float on
# windowrule = match:title ^(Choose wallpaper)(.*)$, center on
# windowrule = match:title ^(Choose wallpaper)(.*)$, float on
# windowrule = match:title ^(Choose wallpaper)(.*)$, size (monitor_w*.60) (monitor_h*.65)
windowrule = match:title ^(Open Folder)(.*)$, center on
windowrule = match:title ^(Open Folder)(.*)$, float on
windowrule = match:title ^(Save As)(.*)$, center on
windowrule = match:title ^(Save As)(.*)$, float on
windowrule = match:title ^(Library)(.*)$, center on
windowrule = match:title ^(Library)(.*)$, float on
windowrule = match:title ^(File Upload)(.*)$, center on
windowrule = match:title ^(File Upload)(.*)$, float on
windowrule = match:title ^(.*)(wants to save)$, center on
windowrule = match:title ^(.*)(wants to save)$, float on
windowrule = match:title ^(.*)(wants to open)$, center on
windowrule = match:title ^(.*)(wants to open)$, float on
windowrule = match:class ^(blueberry\.py)$, float on
windowrule = match:class ^(guifetch)$  , float on # FlafyDev/guifetch
windowrule = match:class ^(pavucontrol)$, float on
windowrule = match:class ^(pavucontrol)$, size (monitor_w*.45) (monitor_h*.45)
windowrule = match:class ^(pavucontrol)$, center on
windowrule = match:class ^(org.pulseaudio.pavucontrol)$, float on
windowrule = match:class ^(org.pulseaudio.pavucontrol)$, size (monitor_w*.45) (monitor_h*.45)
windowrule = match:class ^(org.pulseaudio.pavucontrol)$, center on
windowrule = match:class ^(nm-connection-editor)$, float on
windowrule = match:class ^(nm-connection-editor)$, size (monitor_w*.45) (monitor_h*.45)
windowrule = match:class ^(nm-connection-editor)$, center on
windowrule = match:class .*plasmawindowed.*, float on
windowrule = match:class kcm_.*, float on
windowrule = match:class .*bluedevilwizard, float on
windowrule = match:title .*Welcome, float on
windowrule = match:title ^(illogical-impulse Settings)$, float on
windowrule = match:title .*Shell conflicts.*, float on
windowrule = match:class org.freedesktop.impl.portal.desktop.kde, float on
windowrule = match:class org.freedesktop.impl.portal.desktop.kde, size (monitor_w*.60) (monitor_h*.65)

# Move
# kde-material-you-colors spawns a window when changing dark/light theme. This is to make sure it doesn't interfere at all.
windowrule = match:class ^(plasma-changeicons)$, float on
windowrule = match:class ^(plasma-changeicons)$, no_initial_focus on
windowrule = match:class ^(plasma-changeicons)$, move 999999 999999
# stupid dolphin copy
windowrule = match:title ^(Copying â€” Dolphin)$, move 40 80

# Tiling
windowrule = match:class ^dev\.warp\.Warp$, tile on

# Picture-in-Picture
windowrule = match:title ^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$, float on, pin on, keep_aspect_ratio on, move (monitor_w*.744) (monitor_h*.739), size (monitor_w*.25) (monitor_h*.25)

# --- Tearing ---
windowrule = match:title .*\.exe, immediate on
windowrule = match:title .*minecraft.*, immediate on
windowrule = match:class ^(steam_app).*, immediate on

# Fix Jetbrain IDEs focus/rerendering problem
windowrule = match:class ^jetbrains-.*$, match:float 1, match:title ^$|^\s$|^win\d+$, no_initial_focus on

# No shadow for tiled windows (matches windows that are not floating).
windowrule = match:float 0, no_shadow on

# ######## Workspace rules ########
workspace = special:special, gapsout:30

# ######## Layer rules ########
layerrule = match:namespace .*, xray on
# layerrule = match:namespace .*, no_anim on
layerrule = match:namespace walker, no_anim on
layerrule = match:namespace selection, no_anim on
layerrule = match:namespace overview, no_anim on
layerrule = match:namespace anyrun, no_anim on
layerrule = match:namespace indicator.*, no_anim on
layerrule = match:namespace osk, no_anim on
layerrule = match:namespace hyprpicker, no_anim on

layerrule = match:namespace noanim, no_anim on
layerrule = match:namespace gtk-layer-shell, blur on
layerrule = match:namespace gtk-layer-shell, ignore_alpha 0
layerrule = match:namespace launcher, blur on
layerrule = match:namespace launcher, ignore_alpha 0.5
layerrule = match:namespace notifications, blur on
layerrule = match:namespace notifications, ignore_alpha 0.69
layerrule = match:namespace logout_dialog # wlogout, blur on


# Launchers need to be FAST
layerrule = match:namespace gtk4-layer-shell, no_anim on




# Launchers need to be FAST
layerrule = match:namespace gtk4-layer-shell, no_anim on


# browser tags
windowrule = tag +browser, match:class ^([Ff]irefox|org.mozilla.firefox|[Ff]irefox-esr)$
windowrule = tag +browser, match:class ^([Gg]oogle-chrome(-beta|-dev|-unstable)?)$
windowrule = tag +browser, match:class ^(chrome-.+-Default)$ # Chrome PWAs
windowrule = tag +browser, match:class ^([Cc]hromium)$
# windowrule = tag +browser, match:class ^([Mm]icrosoft-edge(-stable|-beta|-dev|-unstable))$
# windowrule = tag +browser, match:class ^(Brave-browser(-beta|-dev|-unstable)?)$
# windowrule = tag +browser, match:class ^([Tt]horium-browser|[Cc]achy-browser)$
windowrule = tag +browser, match:class ^([Zz]en-browser|zen|zen-browser)$

# terminal tags
windowrule = tag +terminal, match:class ^(Alacritty|kitty|kitty-dropterm|gnome-terminal|foot|terminal)$

# email tags
windowrule = tag +email, match:class ^([Tt]hunderbird|org.gnome.Evolution)$
windowrule = tag +email, match:class ^(eu.betterbird.Betterbird)$

# project tags
windowrule = tag +projects, match:class ^(codium|codium-url-handler|VSCodium)$
windowrule = tag +projects, match:class ^(VSCode|code-url-handler|code|visual-studio-code|vscode)$
windowrule = tag +projects, match:class ^(jetbrains-.+)$ # JetBrains IDEs
windowrule = tag +projects, match:class ^(zeditor)$ # ZED

# screenshare tags
windowrule = tag +screenshare, match:class ^(com.obsproject.Studio)$

# IM tags
windowrule = tag +im, match:class ^([Dd]iscord|[Ww]ebCord|[Vv]esktop)$
windowrule = tag +im, match:class ^([Ww]hatsapp-for-linux)$
windowrule = tag +im, match:class ^(org.telegram.desktop|io.github.tdesktop_x64.TDesktop)$
windowrule = tag +im, match:class ^(teams-for-linux)$

# game tags
windowrule = tag +games, match:class ^(gamescope)$
windowrule = tag +games, match:class ^(steam_app_\d+)$

# gamestore tags
windowrule = tag +gamestore, match:class ^([Ss]team)$
windowrule = tag +gamestore, match:title ^([Ll]utris)$

# file-manager tags
windowrule = tag +file-manager, match:class ^([Tt]hunar|org.gnome.Nautilus|[Pp]cmanfm-qt|[Nn]emo)$


# multimedia tags
windowrule = tag +multimedia, match:class ^([Aa]udacious|youtube-music-bin|youtube-music|youtube-music-git)$
windowrule = tag +player, match:class ^(vlc|mpv)$

# settings tags
windowrule = tag +settings, match:class ^(gnome-disks|wihotspot(-gui)?)$
windowrule = tag +settings, match:title ^(Kvantum Manager)$
windowrule = tag +settings, match:class ^(file-roller|org.gnome.FileRoller)$ # archive manager
windowrule = tag +settings, match:class ^(nm-applet|nm-connection-editor|blueman-manager)$
windowrule = tag +settings, match:class ^(pavucontrol|org.pulseaudio.pavucontrol|com.saivert.pwvucontrol)$
windowrule = tag +settings, match:class ^(nwg-look|qt5ct|qt6ct|[Yy]ad)$
windowrule = tag +settings, match:class ^(xdg-desktop-portal-gtk)$
windowrule = tag +settings, match:class ^(org.kde.polkit-kde-authentication-agent-1)$

# viewer tags
windowrule = tag +viewer, match:class ^(gnome-system-monitor|org.gnome.SystemMonitor|io.missioncenter.MissionCenter)$ # system monitor
windowrule = tag +viewer, match:class ^(eog|org.gnome.Loupe)$


# opacity
windowrule = opacity 0.99 override 0.96 override, match:tag browser*
windowrule = opacity 0.95 override 0.9 override, match:tag projects*
windowrule = opacity 0.95 override 0.9 override, match:tag im*
windowrule = opacity 0.9 override 0.8 override, match:tag multimedia*
windowrule = opacity 1 override 1 override, match:tag player*
windowrule = opacity 0.95 override 0.92 override, match:tag file-manager*
windowrule = opacity 0.85 override 0.8 override, match:tag terminal*
windowrule = opacity 0.95 override 0.9 override, match:tag settings*
windowrule = opacity 0.95 override 0.9 override, match:tag viewer*
windowrule = opacity 0.95 override 0.9 override, match:tag wallpaper*
windowrule = opacity 0.95 override 0.9 override, match:class ^(gedit|org.gnome.TextEditor|mousepad)$
windowrule = opacity 0.95 override 0.9 override, match:class ^(deluge)$

windowrule = match:tag browser*, no_blur off
windowrule = match:tag terminal*, no_blur off
windowrule = match:tag projects*, no_blur off
